{"id":"P20y","dependencies":[{"name":"C:\\Users\\MathewBowyer\\Downloads\\open_layers_map-main\\package.json","includedInParent":true,"mtime":1750062959015},{"name":"C:\\Users\\MathewBowyer\\Downloads\\open_layers_map-main\\node_modules\\ol\\package.json","includedInParent":true,"mtime":1749531474589},{"name":"../events/EventType.js","loc":{"line":17,"column":22,"index":653},"parent":"C:\\Users\\MathewBowyer\\Downloads\\open_layers_map-main\\node_modules\\ol\\source\\ImageArcGISRest.js","resolved":"C:\\Users\\MathewBowyer\\Downloads\\open_layers_map-main\\node_modules\\ol\\events\\EventType.js"},{"name":"./Image.js","loc":{"line":18,"column":54,"index":733},"parent":"C:\\Users\\MathewBowyer\\Downloads\\open_layers_map-main\\node_modules\\ol\\source\\ImageArcGISRest.js","resolved":"C:\\Users\\MathewBowyer\\Downloads\\open_layers_map-main\\node_modules\\ol\\source\\Image.js"},{"name":"../Image.js","loc":{"line":19,"column":25,"index":772},"parent":"C:\\Users\\MathewBowyer\\Downloads\\open_layers_map-main\\node_modules\\ol\\source\\ImageArcGISRest.js","resolved":"C:\\Users\\MathewBowyer\\Downloads\\open_layers_map-main\\node_modules\\ol\\Image.js"},{"name":"../uri.js","loc":{"line":20,"column":29,"index":816},"parent":"C:\\Users\\MathewBowyer\\Downloads\\open_layers_map-main\\node_modules\\ol\\source\\ImageArcGISRest.js","resolved":"C:\\Users\\MathewBowyer\\Downloads\\open_layers_map-main\\node_modules\\ol\\uri.js"},{"name":"../asserts.js","loc":{"line":21,"column":23,"index":852},"parent":"C:\\Users\\MathewBowyer\\Downloads\\open_layers_map-main\\node_modules\\ol\\source\\ImageArcGISRest.js","resolved":"C:\\Users\\MathewBowyer\\Downloads\\open_layers_map-main\\node_modules\\ol\\asserts.js"},{"name":"../obj.js","loc":{"line":22,"column":23,"index":892},"parent":"C:\\Users\\MathewBowyer\\Downloads\\open_layers_map-main\\node_modules\\ol\\source\\ImageArcGISRest.js","resolved":"C:\\Users\\MathewBowyer\\Downloads\\open_layers_map-main\\node_modules\\ol\\obj.js"},{"name":"../extent.js","loc":{"line":23,"column":52,"index":957},"parent":"C:\\Users\\MathewBowyer\\Downloads\\open_layers_map-main\\node_modules\\ol\\source\\ImageArcGISRest.js","resolved":"C:\\Users\\MathewBowyer\\Downloads\\open_layers_map-main\\node_modules\\ol\\extent.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=u(require(\"../events/EventType.js\")),e=s(require(\"./Image.js\")),i=u(require(\"../Image.js\")),r=require(\"../uri.js\"),n=require(\"../asserts.js\"),o=require(\"../obj.js\"),a=require(\"../extent.js\");function s(t,e){if(\"function\"==typeof WeakMap)var i=new WeakMap,r=new WeakMap;return(s=function(t,e){if(!e&&t&&t.__esModule)return t;var n,o,a={__proto__:null,default:t};if(null===t||\"object\"!=typeof t&&\"function\"!=typeof t)return a;if(n=e?r:i){if(n.has(t))return n.get(t);n.set(t,a)}for(const i in t)\"default\"!==i&&{}.hasOwnProperty.call(t,i)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,i))&&(o.get||o.set)?n(a,i,o):a[i]=t[i]);return a})(t,e)}function u(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),g=function(s){function u(t){var i=this,r=t||{};return(i=s.call(this,{attributions:r.attributions,imageSmoothing:r.imageSmoothing,projection:r.projection,resolutions:r.resolutions})||this).crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null,i.hidpi_=void 0===r.hidpi||r.hidpi,i.url_=r.url,i.imageLoadFunction_=void 0!==r.imageLoadFunction?r.imageLoadFunction:e.defaultImageLoadFunction,i.params_=r.params||{},i.image_=null,i.imageSize_=[0,0],i.renderedRevision_=0,i.ratio_=void 0!==r.ratio?r.ratio:1.5,i}return p(u,s),u.prototype.getParams=function(){return this.params_},u.prototype.getImageInternal=function(e,r,n,s){if(void 0===this.url_)return null;r=this.findNearestResolution(r),n=this.hidpi_?n:1;var u=this.image_;if(u&&this.renderedRevision_==this.getRevision()&&u.getResolution()==r&&u.getPixelRatio()==n&&(0,a.containsExtent)(u.getExtent(),e))return u;var p={F:\"image\",FORMAT:\"PNG32\",TRANSPARENT:!0};(0,o.assign)(p,this.params_);var g=((e=e.slice())[0]+e[2])/2,h=(e[1]+e[3])/2;if(1!=this.ratio_){var c=this.ratio_*(0,a.getWidth)(e)/2,l=this.ratio_*(0,a.getHeight)(e)/2;e[0]=g-c,e[1]=h-l,e[2]=g+c,e[3]=h+l}var _=r/n,d=Math.ceil((0,a.getWidth)(e)/_),f=Math.ceil((0,a.getHeight)(e)/_);e[0]=g-_*d/2,e[2]=g+_*d/2,e[1]=h-_*f/2,e[3]=h+_*f/2,this.imageSize_[0]=d,this.imageSize_[1]=f;var m=this.getRequestUrl_(e,this.imageSize_,n,s,p);return this.image_=new i.default(e,r,n,m,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(t.default.CHANGE,this.handleImageChange.bind(this)),this.image_},u.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},u.prototype.getRequestUrl_=function(t,e,i,o,a){var s=o.getCode().split(\":\").pop();a.SIZE=e[0]+\",\"+e[1],a.BBOX=t.join(\",\"),a.BBOXSR=s,a.IMAGESR=s,a.DPI=Math.round(90*i);var u=this.url_,p=u.replace(/MapServer\\/?$/,\"MapServer/export\").replace(/ImageServer\\/?$/,\"ImageServer/exportImage\");return p==u&&(0,n.assert)(!1,50),(0,r.appendParams)(p,a)},u.prototype.getUrl=function(){return this.url_},u.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},u.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},u.prototype.updateParams=function(t){(0,o.assign)(this.params_,t),this.image_=null,this.changed()},u}(e.default),h=exports.default=g;"},"sourceMaps":null,"error":null,"hash":"5568e242e5fd2bcb77a31c8dec2672c2","cacheData":{"env":{}}}